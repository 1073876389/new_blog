---
title: 1.常见命令
pubDate: 2021-03-31 10:24:37
description: vim编辑_常见命令
heroImage: https://qiniu.xuwx.top/%E7%B3%BB%E7%BB%9F%E7%9B%AE%E5%BD%95%E6%96%87%E4%BB%B6.jpg
tags: 
- Linux 
- 命令 
- 常见命令
categories: [Linux,命令]
---
#### 1 文件目录结构
###### 1 linux的系统目录文件 (一切皆文件)
![系统目录结构](https://qiniu.xuwx.top/%E7%B3%BB%E7%BB%9F%E7%9B%AE%E5%BD%95%E6%96%87%E4%BB%B6.jpg)
###### 2 相对路径和 绝对路径 (一般绝对路径用的多在linux里面)
#### 2 命令基本格式
###### 1 命令提示符

```
[root@localhost ~]#  
其中:  
	root			当前登陆用户  
	localhost	主机名  
	~				当前所在目录(家目录)   
					如果是root代表/root;  
					如果是普通用户user1代表/home/user1  
	#				超级用户的提示符#  
					普通用户提示符$	  	
```
###### 2 命令格式

```
命令 [选项] [参数]

注意: 个别命令的使用不遵循次格式
		当有多个选项时,可以写在一起
		简化选项与完整选项
		-a 等于 --all
```

###### 3 查询目录中内容:ls

```
ls [选项] [文件或目录]
选项:
	-a	显示所有文件,包括隐藏文件
	-l	显示详细信息
	-h	人性化显示文件大小 

```

#### 3 文件处理命令
###### 1 剪切或改名命令:mv

```
mv [原文件或目录] [目标目录]
命令英文原意:move
```
###### 2 复制命令:cp

```
cp [选项] [原文件或目录] [目标目录]
命令英文原意:copy
选项:
	-r		复制目录
```
###### 3 删除文件或目录:rm

```
rm -rf [文件或目录]
命令英文原意:remove
选项:
	-r		递归删除目录
	-f		强制
```
###### 4.切换所在目录:cd

```
cd [目录]
	命令英文原意: change directory

简化操作:
cd ~		进入当前用户的家目录
cd 		同上
cd -		进入上次目录
cd ..		进入上一级目录
cd .		进入当前目录
```
###### 5 建立目录:mkdir

```
mkdir -p [目录名]
	-p 递归创建
	命令英文原意: make directories
```
###### 6 创建文件:touch

```
touch 文件名
```
###### 7查询所在目录位置:pwd

```
pwd

命令英文原意:print working directory
```

#### 4 文件搜索命令
###### 1.命令搜索命令
- whereis

```
whereis 命令名
#搜索命令所在路径及帮助文档所在位置
选项:
	-b		只查找可执行文件
	-m	值查找帮助文件
```

- which

```
which 文件名
#搜索命令所在路径及别名
```

- PATH环境变量

```
PATH环境变量:定义的是系统搜索命令的路径
相当于window下的path
```

###### 2.文件搜索命令

```
示例:
	find / -name install.log
	#避免大范围搜索,会非常耗费系统资源
	#find是在系统当中搜索符合条件的文件名.如果需要匹配,使用通配符匹配,通配符是完全匹配
	
	find /root -iname install.log
	#不区分大小写
	find /root -user root
	#按照所有者搜索
	find /root -nouser
	#查找没有所有者的文件
```
- Linux中的通配符

```
*		匹配任意内容
?		匹配任意一个字符
[]		匹配任意一个中括号内的字符

```
- 按时间查询

```
find /var/log -mtime +10
#查找10天前修改的文件

-10		10天内修改文件
10			10天当天修改的文件
+10		10天前修改的文件

atime	文件访问时间
ctime		改变文件属性时间
mtime	修改文件时间
```

- 按文件大小查询

```
find . -size 25k
#查找文件大小是25KB的文件,注意k是小写的.

-25k		小于25KB的文件
25k		等于25KB的文件
+25k		大于25KB的文件

find . -size 25M
#查找文件大小是25MB的文件,注意M是大写的.
```

- 复合条件查询

```
find /etc -size +20k -a -size -50k
#查找/etc/目录下,大于20KB并且小于50KB的文件

-a		and		逻辑与,两个条件都满足
-o		or			逻辑或,两个条件满足一个即可

find /etc -size +20k -a -size -50k -exec ls -lh {} \;
find /var/log -size +3k -a -size -10k -a -type f  | xargs rm -f
#查找/etc/目录下,大于20KB并且小于50KB的文件,并显示详细信息
#-exec {} \;这是固定格式
```


###### 3.字符串搜索命令

```
grep [选项] 字符串 文件名
#在文件当中匹配符合条件的字符串
选项:
	-i	忽略大小写
	-v	排除指定字符串
```

###### 4.find命令和grep命令的区别

```
- find命令:在系统中搜索符合条件的文件名.
- grep命令:在文件中搜索符合条件的字符串.
```

#### 5 帮助命令
###### 1 man命令

```
man ls
#查看ls的帮助
```

###### 2 选项帮助

```
命令 --help
#获取命令选项的帮助
实例:
	ls --help

但是不适用内部命令,如cd:
help cd
```

#### 6 压缩与解压缩命令
###### 1 打包命令&解包

```
tar -zxvf 压缩包名.tar.gz
选项:
	-x		解压缩.tar.gz格式
 
#加上-C表示解压到指定的目录
tar -zxvf 压缩包名.tar.gz -C 指定目录
```

###### 2 .tar.gz格式

```
tar -zcvf 压缩包名.tar.gz 源文件
选项:
	-z		压缩为.tar.gz格式

```
- 压缩

```
tar -zxvf 压缩包名.tar.gz
选项:
	-x		解压缩.tar.gz格式
 
#加上-C表示解压到指定的目录
tar -zxvf 压缩包名.tar.gz -C 指定目录
```

- 解压

```
tar -zcvf 压缩包名.tar.gz 源文件
选项:
	-z		压缩为.tar.gz格式

```

#### 7 关机和重启命令
###### 1 shutdown命令

```
shutdown [选项] 时间
选项:
	-c		取消前一个关机命令
	-h		关机
	-r		重启

#使用shutdown会在关机的时候帮我们保存数据
```

###### 2 其他关机命令(不推荐)

```
#使用这三个命令不是特别安全,因为它们不会帮我们保存数据.

halt

poweroff

init 0
```

###### 3 其他重启命令

```
reboot
init 6
```

###### 4 退出登录命令

```
logout
```

#### 8 其他常用命令
###### 1 磁盘使用情况:df

```
df:用于显示磁盘的使用情况
df -h: 格式化显示输出磁盘使用情况
```

###### 2 查看任务进程:top

```
任务进程
第一行：
10:01:23 — 当前系统时间
126 days, 14:29 — 系统已经运行了126天14小时29分钟（在这期间没有重启过）
2 users — 当前有2个用户登录系统
load average: 1.15, 1.42, 1.44 — load average后面的三个数分别是1分钟、5分钟、15分钟的负载情况。

第二行：
Tasks — 任务（进程），系统现在共有183个进程，其中处于运行中的有1个，182个在休眠（sleep），stoped状态的有0个，zombie状态（僵尸）的有0个。

第三行：cpu状态
6.7% us — 用户空间占用CPU的百分比。
0.4% sy — 内核空间占用CPU的百分比。
0.0% ni — 改变过优先级的进程占用CPU的百分比
92.9% id — 空闲CPU百分比
0.0% wa — IO等待占用CPU的百分比
0.0% hi — 硬中断（Hardware IRQ）占用CPU的百分比
0.0% si — 软中断（Software Interrupts）占用CPU的百分比

第四行：内存状态
8306544k total — 物理内存总量（8GB）
7775876k used — 使用中的内存总量（7.7GB）
530668k free — 空闲内存总量（530M）
79236k buffers — 缓存的内存量 （79M）

第五行：swap交换分区
2031608k total — 交换区总量（2GB）
2556k used — 使用的交换区总量（2.5M）
2029052k free — 空闲交换区总量（2GB）
4231276k cached — 缓冲的交换区总量（4GB）

第五行以下:
PID — 进程id
USER — 进程所有者
PR — 进程优先级
NI — nice值。负值表示高优先级，正值表示低优先级
VIRT — 进程使用的虚拟内存总量，单位kb。VIRT=SWAP+RES
RES — 进程使用的、未被换出的物理内存大小，单位kb。RES=CODE+DATA
SHR — 共享内存大小，单位kb
S — 进程状态。D=不可中断的睡眠状态 R=运行 S=睡眠 T=跟踪/停止 Z=僵尸进程
%CPU — 上次更新到现在的CPU时间占用百分比
%MEM — 进程使用的物理内存百分比
TIME+ — 进程使用的CPU时间总计，单位1/100秒
COMMAND — 进程名称（命令名/命令行）
```

###### 3 查看内存占用:free

```
内存占用情况:
total：内存总数；
used：已经使用的内存数；
free：空闲的内存数；
buffers Buffer：缓存内存数；
cached Page：缓存内存数。
```

###### 4 查看操作历史:history

```
用于显示执行过的历史命令记录
```

###### 5 在显示器输出内容:echo

```
echo
```

###### 6 文件查看命令
- cat

```
整个文件的内容显示出来
```

- tail

```
默认在屏幕上显示指定文件的末尾10行
参数:
	-f  显示文件最新追加的内容。
	-行数   在屏幕上显示指定文件的末尾参数设置的行数
```

